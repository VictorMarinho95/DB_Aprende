ESTRUTURA 
	CREATE
	DROP
	ALTER

DADOS
	INSERT
	DELETE
	UPDATE

COMANDOS
CREATE DATABASE IF NOT EXISTS DB_LOCADORA;

-- Comando para criar uma banco de dados



DROP DATABASE IF EXISTS DB_LOCADORA;

-- Comando para excluir um banco de dados



USE DB_LOCADORA;

-- Comando para usar um banco de dados




CREATE TABLE IF NOT EXISTS TB_SEXOS(

	SEX_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    
    SEX_NOME VARCHAR(15) NOT NULL,
 
       SEX_SIGLA CHAR(1) NOT NULL,

        CONSTRAINT PRIMARY KEY (SEX_ID)

);

-- Comando para criar uma tabela




INSERT INTO TB_SEXOS
 
(SEX_NOME, SEX_SIGLA)
 
VALUES
 
('MASCULINO','M'),
('FEMININO','F');

-- Comando para inserir dados em uma tabela



SELECT * FROM TB_SEXOS

;

CREATE TABLE IF NOT EXISTS TB_CATEGORIA(

	CAT_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,

        CAT_NOME VARCHAR(25) NOT NULL,

        CAT_PRECO DECIMAL(2,2) NOT NULL,

        CONSTRAINT PRIMARY KEY (CAT_ID)
);

-- Outro exemplo de criação de uma tabela



INSERT INTO TB_CATEGORIA 

(CAT_NOME, CAT_PRECO) 

VALUES
 
('CATALOGO', 1.50),
('LANÇAMENTO', 3.00),
('SUPER-LANÇAMENTO', 5.00);

-- Outro exemplo de insersão de dados em uma tabela



SHOW TABLES;



CREATE TABLE IF NOT EXISTS TB_FILMES(

	FIL_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,

        FIL_TITULO VARCHAR(80) NOT NULL,
    
    FIL_SINOPSE TEXT,

        FIL_ANO_LANCAMENTO SMALLINT UNSIGNED,
    
    FIL_DURACAO SMALLINT UNSIGNED,

    FIL_CLA_ID TINYINT UNSIGNED NOT NULL,
    FIL_CAT_ID TINYINT UNSIGNED NOT NULL,
    CONSTRAINT PRIMARY KEY (FIL_ID),
    CONSTRAINT FK_CAT_FIL FOREIGN KEY (FIL_CAT_ID) 
    REFERENCES TB_CATEGORIA (CAT_ID),
    CONSTRAINT FK_CLA_FIL FOREIGN KEY (FIL_CLA_ID)
    REFERENCES TB_CLASSIFICACOES (CLA_ID)
);

INSERT INTO TB_FILMES 
	(FIL_TITULO, FIL_ANO_LANCAMENTO, FIL_DURACAO, FIL_CLA_ID, FIL_CAT_ID) 
VALUES 
	('SENHOR DOS ANEIS - SOCIEDADE DO ANEL', 2002, 200, 3, 1),
    ('SCARFACE', 1993, 170, 1, 1),
    ('O PODEROSO CHEFÃO I', 1972, 178, 1, 1),
    ('O PODEROSO CHEFÃO II', 1975, 202, 1, 1),
    ('O PODEROSO CHEFÃO III', 1991, 170, 1, 1),
    ('ESPIRITOS - A MORTE ESTÁ AO SEU LADO', 2006, 97, 2, 2),
    ('ESPIRITOS 2 - VOCÊ NUNCA ESTÁ SOZINHO', 2007, 115, 2, 2),
    ('ONE PIECE - STRONG WORLD', 2009, 117, 2, 2),
    ('ONE PIECE - Z FILM', 2012, 108, 2, 3),
    ('ONE PIECE - GOLD', 2016, 120, 2, 3);

CREATE TABLE IF NOT EXISTS TB_COPIAS(
	COP_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    COP_MID_ID INT UNSIGNED NOT NULL,
    FIL_ID INT UNSIGNED NOT NULL,
    CONSTRAINT PRIMARY KEY (COP_ID)
);

CREATE TABLE IF NOT EXISTS TB_CLASSIFICACOES (
	CLA_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    CLA_NOME VARCHAR(20) NOT NULL,
    CLA_SIGLA VARCHAR(2) NOT NULL,
    CONSTRAINT PRIMARY KEY (CLA_ID)
);

INSERT INTO TB_CLASSIFICACOES 
(CLA_NOME, CLA_SIGLA)
VALUES
('LIVRE', 'L'),
('10 ANOS', '10'),
('12 ANOS', '12'),
('14 ANOS', '14'),
('16 ANOS', '16'),
('18 ANOS', '18');

CREATE TABLE IF NOT EXISTS TB_GENEROS (
	GEN_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    GEN_NOME VARCHAR(20) NOT NULL,
    CONSTRAINT PRIMARY KEY(GEN_ID)
);

INSERT INTO TB_GENEROS
	(GEN_NOME)
VALUES
	('AÇÃO'),
    ('FANTASIA'),
    ('ANIMAÇÃO'),
    ('FICÇÃO'),
    ('ROMANCE'),
    ('COMÉDIA');

CREATE TABLE IF NOT EXISTS TB_ATORES (
	ATO_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    ATO_NOME VARCHAR(50) NOT NULL,
    CONSTRAINT PRIMARY KEY (ATO_ID)
);

INSERT INTO TB_ATORES 
(ATO_NOME)
VALUES
('LUAN'),('HUDSON'),('GIZELLE'),('RAFAEL'),
('VICTOR'),('FABIANO'),('WESKLEY');

CREATE TABLE IF NOT EXISTS TB_DIRETORES (
	DIR_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    DIR_NOME VARCHAR(50) NOT NULL,
    CONSTRAINT PRIMARY KEY (DIR_ID)
);

INSERT INTO TB_DIRETORES 
(DIR_NOME)
VALUES
('JOSÉ'),('JOÃO'),('PEDRO'),('PAULO'),
('MARIA'),('SANTANA'),('LUCAS');


CREATE TABLE IF NOT EXISTS TB_MIDIAS (
	MID_ID INT UNSIGNED NOT NULL AUTO_INCREMENT,
    MID_NOME VARCHAR(10),
    CONSTRAINT PRIMARY KEY (MID_ID)
);

INSERT INTO TB_MIDIAS
	(MID_NOME)
    VALUES
    ('VHS'),
    ('DVD'),
    ('BLURAY'),
    ('DIGITAL');
    
CREATE TABLE IF NOT EXISTS TB_COPIAS (
	COP_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    COP_MID_ID INT UNSIGNED NOT NULL,
    COP_FIL_ID INT UNSIGNED NOT NULL,
    CONSTRAINT PRIMARY KEY (COP_ID),
    CONSTRAINT FK_COP_MID FOREIGN KEY (COP_MID_ID) 
    REFERENCES TB_MIDIAS (MID_ID), 
    CONSTRAINT FK_COP_FIL FOREIGN KEY (COP_FIL_ID)
    REFERENCES TB_FILMES (FIL_ID)
);


INSERT INTO TB_COPIAS;


CREATE TABLE IF NOT EXISTS TB_IDIOMAS (
	IDI_ID TINYINT UNSIGNED NOT NULL AUTO_INCREMENT,
    IDI_NOME VARCHAR(30) NOT NULL ,
    CONSTRAINT PRIMARY KEY (IDI_ID)
);

drop table TB_GENEROS;

CREATE TABLE IF NOT EXISTS TB_GENEROS_FILMES(
	GDF_FIL_ID INT UNSIGNED NOT NULL,
    GDF_GEN_ID TINYINT UNSIGNED NOT NULL,
    CONSTRAINT PRIMARY KEY (GDF_FIL_ID, GDF_GEN_ID),
    CONSTRAINT FK_FIL_GDF FOREIGN KEY (GDF_FIL_ID) 
    REFERENCES TB_FILMES (FIL_ID),
    CONSTRAINT FK_GEN_GDF FOREIGN KEY (GDF_GEN_ID)
    REFERENCES TB_GENEROS (GEN_ID)
);

INSERT INTO TB_GENEROS_FILMES 
	(GDF_FIL_ID, GDF_GEN_ID)
    VALUES
    (1, 1), (1, 4),
    (2, 4),(3, 3), (3, 1);